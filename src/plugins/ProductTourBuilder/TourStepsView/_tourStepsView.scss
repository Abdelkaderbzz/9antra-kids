@import '@assets/styles/abstracts';

.tour-builder-steps-view {
  border-bottom: 1px solid #eee;
  padding-bottom: 15px;
  animation: slideUp 0.2s ease-out;
  @include flexbox(column, start, start);

  .tour-builder-steps-tabs {
    @include flexbox(row, start, center);
    gap: 20px;
    padding: 20px;

    .step-tab-item {
      cursor: pointer;
      color: $dark;
      padding-bottom: 7px;
    }

    .active-tab {
      border-bottom: 2px solid orange;
    }
  }

  .tour-builder-steps-view-content {
    padding-left: 40px;

    .tour-builder-steps-view-content-steps {
      max-width: 100vw;
      overflow: auto;
      width: 100%;
      @include flexbox(row, start, center);
      padding: 0px 20px 20px 20px;
      scrollbar-width: thin;
      scrollbar-color: #8888887c #eee;

      &::-webkit-scrollbar {
        width: 8px;
        padding-bottom: 5px;
        background-color: #f5f5f5;
      }

      &::-webkit-scrollbar-thumb {
        background-color: #8888887c;
        border-radius: 4px;
      }

      &::-webkit-scrollbar-track {
        background-color: #f1f1f1;
        border-radius: 4px;
      }

      .tour-step-item-container {
        .tour-step-timeline {
          @include flexbox(row, center, center);

          .tour-step-timeline-left-part {
            position: relative;

            &:hover {
              .tour-step-timeline-left-part-content {
                border: 1px solid #aca8a8;
              }

              .small-arrow-step-indicator {
                border-top: 1px solid #aca8a8;
                border-right: 1px solid #aca8a8;
              }
            }

            .tour-step-timeline-left-part-content {
              background-color: #fff;
              width: 204px;
              border: 1px solid #ddd;
              padding: 10px 15px;
              max-height: 148px;
              box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.1);
              border-radius: 5px;
              overflow: hidden;
              cursor: pointer;

              &:hover {
                box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.1);
              }

              .tour-step-timeline-header {
                @include flexbox(row, start, center);
                gap: 5px;

                .tour-creater-avatar {
                  width: 25px;
                  height: 25px;
                }

                p {
                  font-size: 11px;
                }
              }

              .tour-step-timeline-content {
                font-size: 11px;
                padding-top: 10px;
              }

              .drag-delete-step-options {
                position: absolute;
                top: 10px;
                right: 10px;
                @include flexbox(row, center, center);
                gap: 5px;

                span {
                  color: pointer;
                  border-radius: 4px;
                  @include flexbox(row, center, center);
                  background-color: #ddd;
                  padding: 5px 6px;
                  border: 1px solid #eee;

                  svg {
                    font-size: 16px;
                  }

                  &:hover {
                    border: 1px solid rgba(128, 128, 128, 0.522);
                  }
                }

                .delete-icon {
                  svg {
                    color: rgba(255, 0, 0, 0.732);
                  }
                }
              }
            }

            .tour-step-timeline-index {
              position: absolute;
              left: -15px;
              top: 15px;
            }

            .small-arrow-step-indicator {
              width: 10px;
              height: 10px;
              margin-bottom: 20px;
              margin-left: 90px;
              transform-origin: 0 0;
              transform: rotate(-45deg);
              background: #fff;
              border-right: 1px solid #ddd;
              border-top: 1px solid #ddd;
              position: absolute;
            }
          }

          .tour-step-timeline-right-part {
            @include flexbox(column, center, center);

            .tour-step-timeline-right-part-tour-advance-method {
              padding: 0px 4px;
              @include flexbox(row, center, center);
              gap: 2px;

              .small-line {
                width: 5px;
                border-top: 2px solid #ddd;
              }

              svg {
                font-size: 19px;
                color: rgb(101, 100, 100);
              }
            }
          }
        }
      }

      .tour-builder-step-item {
        @include flexbox(row, center, center);
        background-color: #eee;
        border-radius: 4px;
        min-width: 205px;
        height: 150px;
        position: relative;
        overflow: hidden;

        .content-wrapper {
          position: relative;
        }

        .button-primary,
        .sr-only {
          cursor: pointer;
          z-index: 10;
          position: relative;
          transition: transform 0.3s ease;
          background-color: $light;
          border-radius: 50%;
          width: 45px;
          height: 45px;
          @include flexbox(row, center, center);

          svg {
            font-size: 20px;
          }

          &:hover {
            transform: scale(1.3);
            border: 1px solid #ddd;

            svg {
              color: rgb(255, 38, 0);
            }
          }
        }

        .sr-only {
          width: 40px;
          height: 40px;

          svg {
            font-size: 18px;
          }
        }

        .button-outline {
          position: absolute;
          top: 50%;
          transform: translateY(-50%);
          transition:
            transform 0.3s ease,
            opacity 0.3s ease;

          &.left {
            transform: translate(0, -50%);
            opacity: 1;
          }

          &.right {
            transform: translate(0, -50%);
            opacity: 1;
          }
        }

        &:hover {
          .button-primary {
            transform: scale(1.1);
          }

          .button-outline {
            &.left {
              left: 0;
              transform: translate(-130%, -50%);
            }

            &.right {
              right: 0;
              transform: translate(130%, -50%);
            }
          }
        }
      }
    }
  }
}

@keyframes slideUp {
  from {
    transform: translateY(100%);
    opacity: 0;
  }

  to {
    transform: translateY(0);
    opacity: 1;
  }
}
